<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Smart Part — Lead Capture + Admin</title>
<link rel="icon" href="static-logo.png"/>
<link rel="preload" href="styles.css" as="style"/>
<link rel="stylesheet" href="styles.css"/>
</head><body>
<header class="site-header container">
  <a href="index.html" class="brand"><img src="static-logo.png" alt="" class="logo"/><span class="brand-name">SmartFlow</span></a>
  <nav class="nav"><a href="index.html#projects">Projects</a><a href="index.html#latest">Latest</a><a href="pricing.html">Pricing</a><a href="book.html" class="btn btn-gold">Book a Call</a></nav>
</header>

<main id="main">
  <section class="hero container">
    <h1>Smart Part: Lead Capture + Admin</h1>
    <p class="sub">A tiny Flask app that collects leads, emails you, and gives you a secure admin table & CSV export.</p>
    <div class="hero-cta">
      <a id="smart-part-live-2" class="btn btn-gold btn-lg" href="#" target="_blank" rel="noopener">Open Live Mini-App</a>
      <a class="btn btn-ghost btn-lg" href="https://github.com/boweazy/SmartFlowSite.git" target="_blank" rel="noopener">View repo</a>
    </div>
  </section>

  <section class="section container">
    <div class="card">
      <h2 class="section-title">What you get</h2>
      <ul class="ticks">
        <li><code>/lead</code> endpoint (POST JSON) → appends to <code>data/leads.jsonl</code></li>
        <li>Optional email notify via <code>SMTP_*</code> secrets</li>
        <li>Admin page <code>/admin/leads</code> (Basic Auth), plus <code>/admin/leads.csv</code></li>
        <li>Health & status endpoints for quick checks</li>
      </ul>
      <p class="muted small">Set secrets on Replit Deployments → Secrets: <code>ADMIN_USER</code>, <code>ADMIN_PASSWORD</code> (and optional <code>SMTP_*</code>).</p>
    </div>
  </section>

  <section class="section container">
    <div class="card">
      <h2 class="section-title">Quick status</h2>
      <p id="sp-status" class="muted">Checking the live app…</p>
    </div>
  </section>
</main>

<footer class="site-footer container"><small>© <span id="y"></span> SmartFlow Systems.</small><a class="link" href="index.html">Home</a></footer>
<script src="app.js" defer></script>
<script>
(async ()=>{
  try{
    const cfg = await (await fetch('/site.config.json',{cache:'no-store'})).json();
    if(!cfg.smartPartUrl){ document.getElementById('sp-status').textContent='smartPartUrl not set in site.config.json'; return; }
    const r = await fetch(cfg.smartPartUrl.replace(/\/$/,'') + '/status', {mode:'cors'});
    if(!r.ok){ document.getElementById('sp-status').textContent='Live app reachable but /status not OK.'; return; }
    const j = await r.json().catch(()=>null);
    document.getElementById('sp-status').textContent = j && j.ok ? 'Live app is healthy.' : 'Live app reachable.';
  }catch(e){ document.getElementById('sp-status').textContent='Could not reach the live app yet.'; }
})();
</script>
</body></html>