# ==============================================================================
# SMARTFLOW SITE - Environment Variables (Example)
# ==============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env to git - it contains sensitive credentials
#
# ðŸ”’ SECURITY NOTE: As of 2025-12-19, the application now validates production
#    secrets at startup. In production (NODE_ENV=production), the app will:
#    - Check that all required secrets are set
#    - Verify secrets don't contain default/placeholder values
#    - Enforce minimum length requirements (16+ characters)
#    - Exit with error if validation fails
#
# This prevents accidental deployment with insecure default values.

# ------------------------------------------------------------------------------
# SECURITY CONFIGURATION
# ------------------------------------------------------------------------------

# Admin API Key for protected endpoints (GET /api/leads)
# REQUIRED IN PRODUCTION - App will not start without this
# CRITICAL: Generate a strong random key for production (32+ characters)
# Generate: openssl rand -hex 32
# Or: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ADMIN_API_KEY=change-me-to-random-string-in-production

# JWT Secret for authentication tokens
# REQUIRED IN PRODUCTION - App will not start without this
# CRITICAL: Generate a strong random key for production (32+ characters)
# Generate: openssl rand -base64 32
# MUST be at least 16 characters, strongly recommended 32+
JWT_SECRET=your-secret-key-change-in-production

# Sync Token (legacy - use ADMIN_API_KEY for new implementations)
SYNC_TOKEN=your-sync-token-change-in-production

# ------------------------------------------------------------------------------
# SFS ORCHESTRATOR - AI AGENT CONFIGURATION
# ------------------------------------------------------------------------------

# OpenAI API Key (for ChatGPT connector)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Anthropic API Key (for Claude connector - optional, CLI mode works without it)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-claude-key-here

# Orchestrator Configuration
ORCHESTRATOR_PORT=5001
ORCHESTRATOR_URL=http://localhost:5001

# ------------------------------------------------------------------------------
# GITHUB & DEPLOYMENT
# ------------------------------------------------------------------------------

# GitHub Personal Access Token
# Get from: https://github.com/settings/tokens
SFS_PAT=your-github-token-here

# Replit Token (auto-set by Replit, don't change)
# REPLIT_TOKEN=

# ------------------------------------------------------------------------------
# APPLICATION SETTINGS
# ------------------------------------------------------------------------------

NODE_ENV=development
PORT=3000

# ------------------------------------------------------------------------------
# STRIPE PAYMENT INTEGRATION
# ------------------------------------------------------------------------------
# Get these from: https://dashboard.stripe.com/test/apikeys
# IMPORTANT: Use TEST keys (sk_test_... and pk_test_...) for development
# Switch to LIVE keys (sk_live_... and pk_live_...) only when ready for production
#
# REQUIRED IN PRODUCTION - App will not start without these:
# - STRIPE_SECRET_KEY (must start with sk_test_ or sk_live_)
# - STRIPE_WEBHOOK_SECRET (must start with whsec_)

STRIPE_SECRET_KEY=sk_test_YOUR_SECRET_KEY_HERE
STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_PUBLISHABLE_KEY_HERE

# Webhook secret - REQUIRED IN PRODUCTION
# Get from: Developers â†’ Webhooks â†’ Add endpoint
# After creating webhook endpoint, copy the signing secret
# The application validates this starts with 'whsec_' in production
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET_HERE

# Stripe Price IDs - create these in Stripe Dashboard under Products
# After running setup-stripe-products.js, add the price IDs here
STRIPE_STARTER_PRICE_ID=price_YOUR_STARTER_PRICE_ID
STRIPE_PRO_PRICE_ID=price_YOUR_PRO_PRICE_ID
STRIPE_PREMIUM_PRICE_ID=price_YOUR_PREMIUM_PRICE_ID

# ------------------------------------------------------------------------------
# MICROSERVICES (if needed)
# ------------------------------------------------------------------------------

GATEWAY_PORT=4000
CLIENT_URL=http://localhost:3000
MARKETING_SERVICE_URL=http://localhost:3001

# ------------------------------------------------------------------------------
# DATABASE (legacy - MongoDB not currently used)
# ------------------------------------------------------------------------------

MONGODB_URI="mongodb+srv://<user>:<pass>@<cluster>/<db>?retryWrites=true&w=majority"
